#:kivy 1.0
WindowManager:
    Logo:
    SecondWindow:
    ThirdWindow:

<Logo>:
    name: "logo"

    GridLayout:
        cols:1

        Label:
            text: "Sailboat control app "

        GridLayout:
            cols: 2

            Button:
                text: "start !"
                on_release:
                    app.root.current = "Controls" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Quit"
                on_release:
                    app.stop()
                    


<SecondWindow>:
    name: "Controls"
    AnchorLayout:
        anchor_y: 'top'

        GridLayout:
            cols:1
            rows:2
            GridLayout:
                cols:4
                BoxLayout:
                    orientation:"vertical"
                    Label:
                        text: "navi lights"
                    Switch:
                        id: navi
                        active: False
                        on_active:  root.btn_states(navi.active, motor.active, anchor.active)
                           

                BoxLayout:
                    orientation: "vertical"    
                    Label:
                        text:"motor"
                    Switch:
                        id: motor
                        active: False
                        on_active: root.btn_states(navi.active, motor.active, anchor.active)

                BoxLayout:
                    orientation: "vertical"
                    Label:
                        text:'anchor'
                    Switch:
                        id: anchor
                        active: False
                        on_active: root.btn_states(navi.active, motor.active, anchor.active)
                BoxLayout:
                    orientation: "vertical"
                    Label:
                        text:'safe mode'
                    Switch:
                        active: False
                        
            Button:
                text:'sliders'
                on_release:
                    app.root.current = "Sliders" 
                    root.manager.transition.direction = "left" 
<ThirdWindow>:
    name: "Sliders"
    
    BoxLayout:
        orientation: 'vertical'

        
        Slider:
            id: sails
            min:0
            max:180
            value: 180
            value_track: True
            value_track_color: [0,0,1,1]
            step: 0.5
            orientation: 'horizontal'

        GridLayout:
            cols:1
            rows:2
            Label:
                text: 'sails angle: '
            Label:
                text: str(sails.value)

        Slider:
            id: ster
            min:-90
            max:90
            value: 0
            step: 0.5
            orientation: 'horizontal'

        GridLayout:
            cols:1
            rows:2
            Label:
                text: 'rudder angle: '
            Label:
                text: str(ster.value)

        BoxLayout:
            orientation: "horizontal"    
            Button:
                size_hint: (0.3, 1)
                text: "switches"
                on_release:
                    app.root.current = "Controls" 
                    root.manager.transition.direction = "right" 

            Button:
                text: '0 angle on rudder'
                on_release:
                    ster.value = 0
                    root.slider_release(ster.value, sails.value)

            Button:
                
                text: "send values"
                on_release:
                    root.slider_release(ster.value, sails.value)
         
        